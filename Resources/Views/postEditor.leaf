#extend("base"):

    #export("dependencies"):
        <link rel="stylesheet" href="/styles/blog.css">
        <link rel="stylesheet" href="/styles/addedit.css">
        <script src='/scripts/getSinglePost.js'></script>
        <script src='/scripts/getImages.js'></script>
        <script src='/scripts/insertAtCaret.js'></script>
    #endexport

    #export("body"):
        <form method="post" enctype="multipart/form-data">
            <div class="about">
                <div class="single">
                    <label id="editor">Upload New Post</label>
                </div>
                <div class="single">
                    <label>File: </label>
                    <input type="file" name="data" id="file">
                </div>
                <div class="single">
                    <label>Type: </label>
                    <input type="radio" name="type" value="0" id="type_article" checked>
                    <label for="type_article">Article</label>
                    <input type="radio" name="type" value="1" id="type_project">
                    <label for="type_project">Project</label>
                </div>
                <div class="single">
                    <label>Icon: </label>
                    <input type="text" name="icon" id="icon">
                </div>
            </div>
            <div class="about">
                <div id="imgscroller">
                    Unable to load images. Please try again later.
                </div>
            </div>
            <div class="about">
                <div class="single">
                    <label>Username: </label>
                    <input type="email" name="username">
                </div>
                <div class="single">
                    <label>Password: </label>
                    <input type="password" name="password">
                </div>
            </div>
            <input type="submit" value="Add">
        </form>
    #endexport

    #export("template"):
        <template id="image">
            <img src="" onclick="">
        </template>
    #endexport
    
    #export("content"):
        <script>
            var currentField = "icon";
            function setPath(text) {
                insertAtCaret(currentField, text);
            }
            getImages();
            
            var id = document.URL.split("/").slice(-1)[0];
            if (id != "postEditor") {
                getPost(id, true);
                document.querySelector("form").setAttribute("action", "/api/posts/"+id)
            } else {
                document.querySelector("form").setAttribute("action", "/api/posts")
            }
        </script>
    #endexport

#endextend
